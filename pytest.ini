[pytest]
# Configuration pytest pour Hello Mira Flight Platform

# Mode asyncio : auto détecte automatiquement les tests async
asyncio_mode = auto

# Note: asyncio_default_fixture_loop_scope non défini pour permettre à chaque fixture
# d'utiliser automatiquement un event loop du même scope que la fixture elle-même.
# Selon pytest-asyncio 2025: "defaults to the fixture scope"

# Markers personnalisés
markers =
    e2e: Tests end-to-end (nécessitent docker-compose)
    slow: Tests lents
    integration: Tests d'intégration
    unit: Tests unitaires
    performance: Tests de performance

# Options de test
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Output
addopts =
    --strict-markers
    --tb=short
    --verbose
